<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58">58</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59">59</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60">60</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S36T6U717">ab</span> = quaternProd(<span class="var type1" id="S37T4U720">a</span>, <span class="var type1" id="S38T4U721">b</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61">61</a></span><span class="line">    <span class="mxinfo " id="T6:U4"><span class="var type1" id="S36T6U724">ab</span>=<span class="mxinfo " id="T6:U6">zeros(<span class="mxinfo " id="T8:U7">4</span>,1)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62">62</a></span><span class="line"><span class="comment">%QUATERNPROD Calculates the quaternion product</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63">63</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64">64</a></span><span class="line"><span class="comment">%   ab = quaternProd(a, b)</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65">65</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66">66</a></span><span class="line"><span class="comment">%   Calculates the quaternion product of quaternion a and b.</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67">67</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68">68</a></span><span class="line"><span class="comment">%   For more information see:</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69">69</a></span><span class="line"><span class="comment">%   http://www.x-io.co.uk/node/8#quaternions</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70">70</a></span><span class="line"><span class="comment">%</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71">71</a></span><span class="line"><span class="comment">%   Date          Author          Notes</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72">72</a></span><span class="line"><span class="comment">%   27/09/2011    SOH Madgwick    Initial release</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73">73</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,74" id="srcline74">74</a></span><span class="line">    <span class="mxinfo " id="T8:U8"><span class="mxinfo " id="T8:U9"><span class="var type1" id="S36T6U732">ab</span>(<span class="mxinfo " id="T8:U11">1</span>)</span> = <span class="mxinfo " id="T3:U12"><span class="mxinfo " id="T3:U13"><span class="mxinfo " id="T3:U14"><span class="mxinfo " id="T3:U15"><span class="mxinfo " id="T3:U16"><span class="var type1" id="S37T4U739">a</span>(<span class="mxinfo " id="T8:U18">1</span>)</span>.*<span class="mxinfo " id="T3:U19"><span class="var type1" id="S38T4U742">b</span>(<span class="mxinfo " id="T8:U21">1</span>)</span></span>-<span class="mxinfo " id="T3:U22"><span class="mxinfo " id="T3:U23"><span class="var type1" id="S37T4U746">a</span>(<span class="mxinfo " id="T8:U25">2</span>)</span>.*<span class="mxinfo " id="T3:U26"><span class="var type1" id="S38T4U749">b</span>(<span class="mxinfo " id="T8:U28">2</span>)</span></span></span>-<span class="mxinfo " id="T3:U29"><span class="mxinfo " id="T3:U30"><span class="var type1" id="S37T4U753">a</span>(<span class="mxinfo " id="T8:U32">3</span>)</span>.*<span class="mxinfo " id="T3:U33"><span class="var type1" id="S38T4U756">b</span>(<span class="mxinfo " id="T8:U35">3</span>)</span></span></span>-<span class="mxinfo " id="T3:U36"><span class="mxinfo " id="T3:U37"><span class="var type1" id="S37T4U760">a</span>(<span class="mxinfo " id="T8:U39">4</span>)</span>.*<span class="mxinfo " id="T3:U40"><span class="var type1" id="S38T4U763">b</span>(<span class="mxinfo " id="T8:U42">4</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,75" id="srcline75">75</a></span><span class="line">    <span class="mxinfo " id="T8:U43"><span class="mxinfo " id="T8:U44"><span class="var type1" id="S36T6U768">ab</span>(<span class="mxinfo " id="T8:U46">2</span>)</span> = <span class="mxinfo " id="T3:U47"><span class="mxinfo " id="T3:U48"><span class="mxinfo " id="T3:U49"><span class="mxinfo " id="T3:U50"><span class="mxinfo " id="T3:U51"><span class="var type1" id="S37T4U775">a</span>(<span class="mxinfo " id="T8:U53">1</span>)</span>.*<span class="mxinfo " id="T3:U54"><span class="var type1" id="S38T4U778">b</span>(<span class="mxinfo " id="T8:U56">2</span>)</span></span>+<span class="mxinfo " id="T3:U57"><span class="mxinfo " id="T3:U58"><span class="var type1" id="S37T4U782">a</span>(<span class="mxinfo " id="T8:U60">2</span>)</span>.*<span class="mxinfo " id="T3:U61"><span class="var type1" id="S38T4U785">b</span>(<span class="mxinfo " id="T8:U63">1</span>)</span></span></span>+<span class="mxinfo " id="T3:U64"><span class="mxinfo " id="T3:U65"><span class="var type1" id="S37T4U789">a</span>(<span class="mxinfo " id="T8:U67">3</span>)</span>.*<span class="mxinfo " id="T3:U68"><span class="var type1" id="S38T4U792">b</span>(<span class="mxinfo " id="T8:U70">4</span>)</span></span></span>-<span class="mxinfo " id="T3:U71"><span class="mxinfo " id="T3:U72"><span class="var type1" id="S37T4U796">a</span>(<span class="mxinfo " id="T8:U74">4</span>)</span>.*<span class="mxinfo " id="T3:U75"><span class="var type1" id="S38T4U799">b</span>(<span class="mxinfo " id="T8:U77">3</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,76" id="srcline76">76</a></span><span class="line">    <span class="mxinfo " id="T8:U78"><span class="mxinfo " id="T8:U79"><span class="var type1" id="S36T6U804">ab</span>(<span class="mxinfo " id="T8:U81">3</span>)</span> = <span class="mxinfo " id="T3:U82"><span class="mxinfo " id="T3:U83"><span class="mxinfo " id="T3:U84"><span class="mxinfo " id="T3:U85"><span class="mxinfo " id="T3:U86"><span class="var type1" id="S37T4U811">a</span>(<span class="mxinfo " id="T8:U88">1</span>)</span>.*<span class="mxinfo " id="T3:U89"><span class="var type1" id="S38T4U814">b</span>(<span class="mxinfo " id="T8:U91">3</span>)</span></span>-<span class="mxinfo " id="T3:U92"><span class="mxinfo " id="T3:U93"><span class="var type1" id="S37T4U818">a</span>(<span class="mxinfo " id="T8:U95">2</span>)</span>.*<span class="mxinfo " id="T3:U96"><span class="var type1" id="S38T4U821">b</span>(<span class="mxinfo " id="T8:U98">4</span>)</span></span></span>+<span class="mxinfo " id="T3:U99"><span class="mxinfo " id="T3:U100"><span class="var type1" id="S37T4U825">a</span>(<span class="mxinfo " id="T8:U102">3</span>)</span>.*<span class="mxinfo " id="T3:U103"><span class="var type1" id="S38T4U828">b</span>(<span class="mxinfo " id="T8:U105">1</span>)</span></span></span>+<span class="mxinfo " id="T3:U106"><span class="mxinfo " id="T3:U107"><span class="var type1" id="S37T4U832">a</span>(<span class="mxinfo " id="T8:U109">4</span>)</span>.*<span class="mxinfo " id="T3:U110"><span class="var type1" id="S38T4U835">b</span>(<span class="mxinfo " id="T8:U112">2</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,77" id="srcline77">77</a></span><span class="line">    <span class="mxinfo " id="T8:U113"><span class="mxinfo " id="T8:U114"><span class="var type1" id="S36T6U840">ab</span>(<span class="mxinfo " id="T8:U116">4</span>)</span> = <span class="mxinfo " id="T3:U117"><span class="mxinfo " id="T3:U118"><span class="mxinfo " id="T3:U119"><span class="mxinfo " id="T3:U120"><span class="mxinfo " id="T3:U121"><span class="var type1" id="S37T4U847">a</span>(<span class="mxinfo " id="T8:U123">1</span>)</span>.*<span class="mxinfo " id="T3:U124"><span class="var type1" id="S38T4U850">b</span>(<span class="mxinfo " id="T8:U126">4</span>)</span></span>+<span class="mxinfo " id="T3:U127"><span class="mxinfo " id="T3:U128"><span class="var type1" id="S37T4U854">a</span>(<span class="mxinfo " id="T8:U130">2</span>)</span>.*<span class="mxinfo " id="T3:U131"><span class="var type1" id="S38T4U857">b</span>(<span class="mxinfo " id="T8:U133">3</span>)</span></span></span>-<span class="mxinfo " id="T3:U134"><span class="mxinfo " id="T3:U135"><span class="var type1" id="S37T4U861">a</span>(<span class="mxinfo " id="T8:U137">3</span>)</span>.*<span class="mxinfo " id="T3:U138"><span class="var type1" id="S38T4U864">b</span>(<span class="mxinfo " id="T8:U140">2</span>)</span></span></span>+<span class="mxinfo " id="T3:U141"><span class="mxinfo " id="T3:U142"><span class="var type1" id="S37T4U868">a</span>(<span class="mxinfo " id="T8:U144">4</span>)</span>.*<span class="mxinfo " id="T3:U145"><span class="var type1" id="S38T4U871">b</span>(<span class="mxinfo " id="T8:U147">1</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,78" id="srcline78">78</a></span><span class="line"></span></span>
</pre>
